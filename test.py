from pypokedex.exceptions import PyPokedexHTTPError
from util import set_config 
from util import describe_mon
from util import describe_type_combos
from util import read_extra_form_names
from util import read_mon_list
from argparse import ArgumentParser
from api.service import Service 
from models import to_dex_map
from pathlib import Path
import pypokedex as dex

import requests
import asyncio
import uvicorn
import signal
import sys
import ssl

PORTS = {
    "client": 3134,
    "api": 3134 + 1
}

API_PORT = PORTS['api']
CLIENT_PORT = PORTS['client']
PEM_PATH = Path('/etc/letsencrypt/live/owl')

parser = ArgumentParser(
                    prog='Tic Kan Toe API',
                    description='Test of Tic Kan Toe API',
                    epilog=f'Using the PokéAPI')

TYPE_COMBOS = [["bug"], ["bug", "dark"], ["bug", "dragon"], ["bug", "electric"], ["bug", "fairy"], ["bug", "fighting"], ["bug", "fire"], ["bug", "flying"], ["bug", "ghost"], ["bug", "grass"], ["bug", "ground"], ["bug", "ice"], ["bug", "normal"], ["bug", "poison"], ["bug", "psychic"], ["bug", "rock"], ["bug", "shadow"], ["bug", "steel"], ["bug", "unknown"], ["bug", "water"], ["dark"], ["dark", "dragon"], ["dark", "electric"], ["dark", "fairy"], ["dark", "fighting"], ["dark", "fire"], ["dark", "flying"], ["dark", "ghost"], ["dark", "grass"], ["dark", "ground"], ["dark", "ice"], ["dark", "normal"], ["dark", "poison"], ["dark", "psychic"], ["dark", "rock"], ["dark", "shadow"], ["dark", "steel"], ["dark", "unknown"], ["dark", "water"], ["dragon"], ["dragon", "electric"], ["dragon", "fairy"], ["dragon", "fighting"], ["dragon", "fire"], ["dragon", "flying"], ["dragon", "ghost"], ["dragon", "grass"], ["dragon", "ground"], ["dragon", "ice"], ["dragon", "normal"], ["dragon", "poison"], ["dragon", "psychic"], ["dragon", "rock"], ["dragon", "shadow"], ["dragon", "steel"], ["dragon", "unknown"], ["dragon", "water"], ["electric"], ["electric", "fairy"], ["electric", "fighting"], ["electric", "fire"], ["electric", "flying"], ["electric", "ghost"], ["electric", "grass"], ["electric", "ground"], ["electric", "ice"], ["electric", "normal"], ["electric", "poison"], ["electric", "psychic"], ["electric", "rock"], ["electric", "shadow"], ["electric", "steel"], ["electric", "unknown"], ["electric", "water"], ["fairy"], ["fairy", "fighting"], ["fairy", "fire"], ["fairy", "flying"], ["fairy", "ghost"], ["fairy", "grass"], ["fairy", "ground"], ["fairy", "ice"], ["fairy", "normal"], ["fairy", "poison"], ["fairy", "psychic"], ["fairy", "rock"], ["fairy", "shadow"], ["fairy", "steel"], ["fairy", "unknown"], ["fairy", "water"], ["fighting"], ["fighting", "fire"], ["fighting", "flying"], ["fighting", "ghost"], ["fighting", "grass"], ["fighting", "ground"], ["fighting", "ice"], ["fighting", "normal"], ["fighting", "poison"], ["fighting", "psychic"], ["fighting", "rock"], ["fighting", "shadow"], ["fighting", "steel"], ["fighting", "unknown"], ["fighting", "water"], ["fire"], ["fire", "flying"], ["fire", "ghost"], ["fire", "grass"], ["fire", "ground"], ["fire", "ice"], ["fire", "normal"], ["fire", "poison"], ["fire", "psychic"], ["fire", "rock"], ["fire", "shadow"], ["fire", "steel"], ["fire", "unknown"], ["fire", "water"], ["flying"], ["flying", "ghost"], ["flying", "grass"], ["flying", "ground"], ["flying", "ice"], ["flying", "normal"], ["flying", "poison"], ["flying", "psychic"], ["flying", "rock"], ["flying", "shadow"], ["flying", "steel"], ["flying", "unknown"], ["flying", "water"], ["ghost"], ["ghost", "grass"], ["ghost", "ground"], ["ghost", "ice"], ["ghost", "normal"], ["ghost", "poison"], ["ghost", "psychic"], ["ghost", "rock"], ["ghost", "shadow"], ["ghost", "steel"], ["ghost", "unknown"], ["ghost", "water"], ["grass"], ["grass", "ground"], ["grass", "ice"], ["grass", "normal"], ["grass", "poison"], ["grass", "psychic"], ["grass", "rock"], ["grass", "shadow"], ["grass", "steel"], ["grass", "unknown"], ["grass", "water"], ["ground"], ["ground", "ice"], ["ground", "normal"], ["ground", "poison"], ["ground", "psychic"], ["ground", "rock"], ["ground", "shadow"], ["ground", "steel"], ["ground", "unknown"], ["ground", "water"], ["ice"], ["ice", "normal"], ["ice", "poison"], ["ice", "psychic"], ["ice", "rock"], ["ice", "shadow"], ["ice", "steel"], ["ice", "unknown"], ["ice", "water"], ["normal"], ["normal", "poison"], ["normal", "psychic"], ["normal", "rock"], ["normal", "shadow"], ["normal", "steel"], ["normal", "unknown"], ["normal", "water"], ["poison"], ["poison", "psychic"], ["poison", "rock"], ["poison", "shadow"], ["poison", "steel"], ["poison", "unknown"], ["poison", "water"], ["psychic"], ["psychic", "rock"], ["psychic", "shadow"], ["psychic", "steel"], ["psychic", "unknown"], ["psychic", "water"], ["rock"], ["rock", "shadow"], ["rock", "steel"], ["rock", "unknown"], ["rock", "water"], ["shadow"], ["shadow", "steel"], ["shadow", "unknown"], ["shadow", "water"], ["steel"], ["steel", "unknown"], ["steel", "water"], ["unknown"], ["unknown", "water"], ["water"]]

# TODO: add Unova to Indigo Disk entry?
GAME_LIST = [(1, 1, [2], ['kanto']), (2, 1, [2], ['kanto']), (3, 2, [3], ['kanto', 'johto']), (4, 2, [3], ['kanto', 'johto']), (5, 3, [4], ['hoenn']), (6, 3, [4], ['hoenn']), (7, 3, [2], ['kanto']), (8, 4, [5], ['sinnoh']), (9, 4, [6], ['sinnoh']), (10, 4, [7], ['kanto', 'johto']), (11, 5, [8], ['unova']), (12, 3, [], []), (13, 3, [], []), (14, 5, [9], ['unova']), (15, 6, [12, 13, 14], ['kalos']), (16, 6, [15], ['hoenn']), (17, 7, [16, 17, 18, 19, 20], ['alola']), (18, 7, [21, 22, 23, 24, 25], ['alola']), (19, 7, [26], ['kanto']), (20, 8, [27, 28, 29], ['galar']), (21, 8, [28], ['galar']), (22, 8, [29], ['galar']), (23, 8, [5], ['sinnoh']), (24, 8, [30], ['hisui']), (25, 9, [31], ['paldea']), (26, 9, [32], ['paldea']), (27, 9, [33], ['paldea'])]
 
MON_LIST = [[1, "bulbasaur", 1, 148, 1], [2, "ivysaur", 2, 148, 1], [3, "venusaur", 3, 148, 1, 10133, 148, 15, 10364, 148, 20], [4, "charmander", 4, 105, 1], [5, "charmeleon", 5, 105, 1], [6, "charizard", 6, 106, 1, 10134, 43, 15, 10135, 106, 15, 10365, 106, 20], [7, "squirtle", 7, 209, 1], [8, "wartortle", 8, 209, 1], [9, "blastoise", 9, 209, 1, 10136, 209, 15, 10366, 209, 20], [10, "caterpie", 10, 0, 1], [11, "metapod", 11, 0, 1], [12, "butterfree", 12, 7, 1, 10367, 7, 20], [13, "weedle", 13, 13, 1], [14, "kakuna", 14, 13, 1], [15, "beedrill", 15, 13, 1, 10192, 13, 16], [16, "pidgey", 16, 124, 1], [17, "pidgeotto", 17, 124, 1], [18, "pidgeot", 18, 124, 1, 10175, 124, 16], [19, "rattata", 19, 174, 1, 10193, 31, 17], [20, "raticate", 20, 174, 1, 10194, 31, 17, 10195, 31, 17], [21, "spearow", 21, 124, 1], [22, "fearow", 22, 124, 1], [23, "ekans", 23, 182, 1], [24, "arbok", 24, 182, 1], [25, "pikachu", 25, 57, 1, 10182, 57, 16, 10183, 57, 16, 10184, 57, 16, 10185, 57, 16, 10186, 57, 16, 10187, 57, 16, 10196, 57, 17, 10197, 57, 17, 10198, 57, 17, 10199, 57, 17, 10200, 57, 17, 10201, 57, 17, 10267, 57, 18, 10317, 57, 19, 10319, 57, 20, 10368, 57, 20], [26, "raichu", 26, 57, 1, 10202, 68, 17], [27, "sandshrew", 27, 155, 1, 10203, 171, 17], [28, "sandslash", 28, 155, 1, 10204, 171, 17], [29, "nidoran-f", 29, 182, 1], [30, "nidorina", 30, 182, 1], [31, "nidoqueen", 31, 158, 1], [32, "nidoran-m", 32, 182, 1], [33, "nidorino", 33, 182, 1], [34, "nidoking", 34, 158, 1], [35, "clefairy", 35, 74, 1], [36, "clefable", 36, 74, 1], [37, "vulpix", 37, 105, 1, 10205, 165, 17], [38, "ninetales", 38, 105, 1, 10206, 81, 17], [39, "jigglypuff", 39, 82, 1], [40, "wigglytuff", 40, 82, 1], [41, "zubat", 41, 125, 1], [42, "golbat", 42, 125, 1], [43, "oddish", 43, 148, 1], [44, "gloom", 44, 148, 1], [45, "vileplume", 45, 148, 1], [46, "paras", 46, 9, 1], [47, "parasect", 47, 9, 1], [48, "venonat", 48, 13, 1], [49, "venomoth", 49, 13, 1], [50, "diglett", 50, 155, 1, 10207, 162, 17], [51, "dugtrio", 51, 155, 1, 10208, 162, 17], [52, "meowth", 52, 174, 1, 10209, 20, 17, 10320, 204, 20, 10369, 174, 20], [53, "persian", 53, 174, 1, 10210, 20, 17], [54, "psyduck", 54, 209, 1], [55, "golduck", 55, 209, 1], [56, "mankey", 56, 90, 1], [57, "primeape", 57, 90, 1], [58, "growlithe", 58, 105, 1, 10398, 114, 24], [59, "arcanine", 59, 105, 1, 10399, 114, 24], [60, "poliwag", 60, 209, 1], [61, "poliwhirl", 61, 209, 1], [62, "poliwrath", 62, 104, 1], [63, "abra", 63, 189, 1], [64, "kadabra", 64, 189, 1], [65, "alakazam", 65, 189, 1, 10137, 189, 15], [66, "machop", 66, 90, 1], [67, "machoke", 67, 90, 1], [68, "machamp", 68, 90, 1, 10370, 90, 20], [69, "bellsprout", 69, 148, 1], [70, "weepinbell", 70, 148, 1], [71, "victreebel", 71, 148, 1], [72, "tentacool", 72, 188, 1], [73, "tentacruel", 73, 188, 1], [74, "geodude", 74, 160, 1, 10211, 69, 17], [75, "graveler", 75, 160, 1, 10212, 69, 17], [76, "golem", 76, 160, 1, 10213, 69, 17], [77, "ponyta", 77, 105, 1, 10321, 189, 20], [78, "rapidash", 78, 105, 1, 10322, 84, 20], [79, "slowpoke", 79, 194, 1, 10323, 189, 20], [80, "slowbro", 80, 194, 1, 10173, 194, 16, 10324, 183, 20], [81, "magnemite", 81, 71, 1], [82, "magneton", 82, 71, 1], [83, "farfetchd", 83, 124, 1, 10325, 90, 20], [84, "doduo", 84, 124, 1], [85, "dodrio", 85, 124, 1], [86, "seel", 86, 209, 1], [87, "dewgong", 87, 173, 1], [88, "grimer", 88, 182, 1, 10214, 32, 17], [89, "muk", 89, 182, 1, 10215, 32, 17], [90, "shellder", 90, 209, 1], [91, "cloyster", 91, 173, 1], [92, "gastly", 92, 137, 1], [93, "haunter", 93, 137, 1], [94, "gengar", 94, 137, 1, 10138, 137, 15, 10371, 137, 20], [95, "onix", 95, 160, 1], [96, "drowzee", 96, 189, 1], [97, "hypno", 97, 189, 1], [98, "krabby", 98, 209, 1], [99, "kingler", 99, 209, 1, 10372, 209, 20], [100, "voltorb", 100, 57, 1, 10400, 63, 24], [101, "electrode", 101, 57, 1, 10401, 63, 24], [102, "exeggcute", 102, 149, 1], [103, "exeggutor", 103, 149, 1, 10216, 46, 17], [104, "cubone", 104, 155, 1], [105, "marowak", 105, 155, 1, 10217, 107, 17, 10268, 107, 18], [106, "hitmonlee", 106, 90, 1], [107, "hitmonchan", 107, 90, 1], [108, "lickitung", 108, 174, 1], [109, "koffing", 109, 182, 1], [110, "weezing", 110, 182, 1, 10326, 83, 20], [111, "rhyhorn", 111, 160, 1], [112, "rhydon", 112, 160, 1], [113, "chansey", 113, 174, 1], [114, "tangela", 114, 144, 1], [115, "kangaskhan", 115, 174, 1, 10139, 174, 15], [116, "horsea", 116, 209, 1], [117, "seadra", 117, 209, 1], [118, "goldeen", 118, 209, 1], [119, "seaking", 119, 209, 1], [120, "staryu", 120, 209, 1], [121, "starmie", 121, 194, 1], [122, "mr-mime", 122, 84, 1, 10327, 168, 20], [123, "scyther", 123, 7, 1], [124, "jynx", 124, 168, 1], [125, "electabuzz", 125, 57, 1], [126, "magmar", 126, 105, 1], [127, "pinsir", 127, 0, 1, 10140, 7, 15], [128, "tauros", 128, 174, 1, 10419, 90, 25, 10420, 91, 25, 10421, 104, 25], [129, "magikarp", 129, 209, 1], [130, "gyarados", 130, 131, 1, 10141, 38, 15], [131, "lapras", 131, 173, 1, 10373, 173, 20], [132, "ditto", 132, 174, 1], [133, "eevee", 133, 174, 1, 10318, 174, 19, 10374, 174, 20], [134, "vaporeon", 134, 209, 1], [135, "jolteon", 135, 57, 1], [136, "flareon", 136, 105, 1], [137, "porygon", 137, 174, 1], [138, "omanyte", 138, 199, 1], [139, "omastar", 139, 199, 1], [140, "kabuto", 140, 199, 1], [141, "kabutops", 141, 199, 1], [142, "aerodactyl", 142, 127, 1, 10142, 127, 15], [143, "snorlax", 143, 174, 1, 10375, 174, 20], [144, "articuno", 144, 123, 1, 10328, 126, 20], [145, "zapdos", 145, 61, 1, 10329, 92, 20], [146, "moltres", 146, 106, 1, 10330, 26, 20], [147, "dratini", 147, 39, 1], [148, "dragonair", 148, 39, 1], [149, "dragonite", 149, 44, 1], [150, "mewtwo", 150, 189, 1, 10143, 99, 15, 10144, 189, 15], [151, "mew", 151, 189, 1], [152, "chikorita", 152, 144, 3], [153, "bayleef", 153, 144, 3], [154, "meganium", 154, 144, 3], [155, "cyndaquil", 155, 105, 3], [156, "quilava", 156, 105, 3], [157, "typhlosion", 157, 105, 3, 10402, 107, 24], [158, "totodile", 158, 209, 3], [159, "croconaw", 159, 209, 3], [160, "feraligatr", 160, 209, 3], [161, "sentret", 161, 174, 3], [162, "furret", 162, 174, 3], [163, "hoothoot", 163, 124, 3], [164, "noctowl", 164, 124, 3], [165, "ledyba", 165, 7, 3], [166, "ledian", 166, 7, 3], [167, "spinarak", 167, 13, 3], [168, "ariados", 168, 13, 3], [169, "crobat", 169, 125, 3], [170, "chinchou", 170, 73, 3], [171, "lanturn", 171, 73, 3], [172, "pichu", 172, 57, 3, 10065, 57, 10], [173, "cleffa", 173, 74, 3], [174, "igglybuff", 174, 82, 3], [175, "togepi", 175, 74, 3], [176, "togetic", 176, 77, 3], [177, "natu", 177, 126, 3], [178, "xatu", 178, 126, 3], [179, "mareep", 179, 57, 3], [180, "flaaffy", 180, 57, 3], [181, "ampharos", 181, 57, 3, 10145, 40, 15], [182, "bellossom", 182, 144, 3], [183, "marill", 183, 89, 3], [184, "azumarill", 184, 89, 3], [185, "sudowoodo", 185, 195, 3], [186, "politoed", 186, 209, 3], [187, "hoppip", 187, 121, 3], [188, "skiploom", 188, 121, 3], [189, "jumpluff", 189, 121, 3], [190, "aipom", 190, 174, 3], [191, "sunkern", 191, 144, 3], [192, "sunflora", 192, 144, 3], [193, "yanma", 193, 7, 3], [194, "wooper", 194, 164, 3, 10422, 158, 25], [195, "quagsire", 195, 164, 3], [196, "espeon", 196, 189, 3], [197, "umbreon", 197, 20, 3], [198, "murkrow", 198, 26, 3], [199, "slowking", 199, 194, 3, 10331, 183, 20], [200, "misdreavus", 200, 132, 3], [201, "unown", 201, 189, 3, 10001, 189, 3, 10002, 189, 3, 10003, 189, 3, 10004, 189, 3, 10005, 189, 3, 10006, 189, 3, 10007, 189, 3, 10008, 189, 3, 10009, 189, 3, 10010, 189, 3, 10011, 189, 3, 10012, 189, 3, 10013, 189, 3, 10014, 189, 3, 10015, 189, 3, 10016, 189, 3, 10017, 189, 3, 10018, 189, 3, 10019, 189, 3, 10020, 189, 3, 10021, 189, 3, 10022, 189, 3, 10023, 189, 3, 10024, 189, 3, 10025, 189, 3, 10026, 189, 5, 10027, 189, 5], [202, "wobbuffet", 202, 189, 3], [203, "girafarig", 203, 176, 3], [204, "pineco", 204, 0, 3], [205, "forretress", 205, 17, 3], [206, "dunsparce", 206, 174, 3], [207, "gligar", 207, 122, 3], [208, "steelix", 208, 162, 3, 10174, 162, 16], [209, "snubbull", 209, 74, 3], [210, "granbull", 210, 74, 3], [211, "qwilfish", 211, 188, 3, 10403, 32, 24], [212, "scizor", 212, 17, 3, 10146, 17, 15], [213, "shuckle", 213, 15, 3], [214, "heracross", 214, 5, 3, 10147, 5, 15], [215, "sneasel", 215, 30, 3, 10404, 98, 24], [216, "teddiursa", 216, 174, 3], [217, "ursaring", 217, 174, 3], [218, "slugma", 218, 105, 3], [219, "magcargo", 219, 114, 3], [220, "swinub", 220, 156, 3], [221, "piloswine", 221, 156, 3], [222, "corsola", 222, 199, 3, 10332, 132, 20], [223, "remoraid", 223, 209, 3], [224, "octillery", 224, 209, 3], [225, "delibird", 225, 123, 3], [226, "mantine", 226, 131, 3], [227, "skarmory", 227, 129, 3], [228, "houndour", 228, 25, 3], [229, "houndoom", 229, 25, 3, 10148, 25, 15], [230, "kingdra", 230, 56, 3], [231, "phanpy", 231, 155, 3], [232, "donphan", 232, 155, 3], [233, "porygon2", 233, 174, 3], [234, "stantler", 234, 174, 3], [235, "smeargle", 235, 174, 3], [236, "tyrogue", 236, 90, 3], [237, "hitmontop", 237, 90, 3], [238, "smoochum", 238, 168, 3], [239, "elekid", 239, 57, 3], [240, "magby", 240, 105, 3], [241, "miltank", 241, 174, 3], [242, "blissey", 242, 174, 3], [243, "raikou", 243, 57, 3], [244, "entei", 244, 105, 3], [245, "suicune", 245, 209, 3], [246, "larvitar", 246, 160, 3], [247, "pupitar", 247, 160, 3], [248, "tyranitar", 248, 34, 3, 10149, 34, 15], [249, "lugia", 249, 126, 3], [250, "ho-oh", 250, 106, 3], [251, "celebi", 251, 149, 3], [252, "treecko", 252, 144, 5], [253, "grovyle", 253, 144, 5], [254, "sceptile", 254, 144, 5, 10167, 46, 16], [255, "torchic", 255, 105, 5], [256, "combusken", 256, 91, 5], [257, "blaziken", 257, 91, 5, 10150, 91, 15], [258, "mudkip", 258, 209, 5], [259, "marshtomp", 259, 164, 5], [260, "swampert", 260, 164, 5, 10166, 164, 16], [261, "poochyena", 261, 20, 5], [262, "mightyena", 262, 20, 5], [263, "zigzagoon", 263, 174, 5, 10333, 31, 20], [264, "linoone", 264, 174, 5, 10334, 31, 20], [265, "wurmple", 265, 0, 5], [266, "silcoon", 266, 0, 5], [267, "beautifly", 267, 7, 5], [268, "cascoon", 268, 0, 5], [269, "dustox", 269, 13, 5], [270, "lotad", 270, 154, 5], [271, "lombre", 271, 154, 5], [272, "ludicolo", 272, 154, 5], [273, "seedot", 273, 144, 5], [274, "nuzleaf", 274, 28, 5], [275, "shiftry", 275, 28, 5], [276, "taillow", 276, 124, 5], [277, "swellow", 277, 124, 5], [278, "wingull", 278, 131, 5], [279, "pelipper", 279, 131, 5], [280, "ralts", 280, 84, 5], [281, "kirlia", 281, 84, 5], [282, "gardevoir", 282, 84, 5, 10151, 84, 15], [283, "surskit", 283, 19, 5], [284, "masquerain", 284, 7, 5], [285, "shroomish", 285, 144, 5], [286, "breloom", 286, 94, 5], [287, "slakoth", 287, 174, 5], [288, "vigoroth", 288, 174, 5], [289, "slaking", 289, 174, 5], [290, "nincada", 290, 10, 5], [291, "ninjask", 291, 7, 5], [292, "shedinja", 292, 8, 5], [293, "whismur", 293, 174, 5], [294, "loudred", 294, 174, 5], [295, "exploud", 295, 174, 5], [296, "makuhita", 296, 90, 5], [297, "hariyama", 297, 90, 5], [298, "azurill", 298, 82, 5], [299, "nosepass", 299, 195, 5], [300, "skitty", 300, 174, 5], [301, "delcatty", 301, 174, 5], [302, "sableye", 302, 27, 5, 10168, 27, 16], [303, "mawile", 303, 87, 5, 10152, 87, 15], [304, "aron", 304, 197, 5], [305, "lairon", 305, 197, 5], [306, "aggron", 306, 197, 5, 10153, 204, 15], [307, "meditite", 307, 99, 5], [308, "medicham", 308, 99, 5, 10154, 99, 15], [309, "electrike", 309, 57, 5], [310, "manectric", 310, 57, 5, 10155, 57, 15], [311, "plusle", 311, 57, 5], [312, "minun", 312, 57, 5], [313, "volbeat", 313, 0, 5], [314, "illumise", 314, 0, 5], [315, "roselia", 315, 148, 5], [316, "gulpin", 316, 182, 5], [317, "swalot", 317, 182, 5], [318, "carvanha", 318, 38, 5], [319, "sharpedo", 319, 38, 5, 10172, 38, 16], [320, "wailmer", 320, 209, 5], [321, "wailord", 321, 209, 5], [322, "numel", 322, 109, 5], [323, "camerupt", 323, 109, 5, 10189, 109, 16], [324, "torkoal", 324, 105, 5], [325, "spoink", 325, 189, 5], [326, "grumpig", 326, 189, 5], [327, "spinda", 327, 174, 5], [328, "trapinch", 328, 155, 5], [329, "vibrava", 329, 47, 5], [330, "flygon", 330, 47, 5], [331, "cacnea", 331, 144, 5], [332, "cacturne", 332, 28, 5], [333, "swablu", 333, 124, 5], [334, "altaria", 334, 44, 5, 10169, 41, 16], [335, "zangoose", 335, 174, 5], [336, "seviper", 336, 182, 5], [337, "lunatone", 337, 190, 5], [338, "solrock", 338, 190, 5], [339, "barboach", 339, 164, 5], [340, "whiscash", 340, 164, 5], [341, "corphish", 341, 209, 5], [342, "crawdaunt", 342, 38, 5], [343, "baltoy", 343, 159, 5], [344, "claydol", 344, 159, 5], [345, "lileep", 345, 150, 5], [346, "cradily", 346, 150, 5], [347, "anorith", 347, 15, 5], [348, "armaldo", 348, 15, 5], [349, "feebas", 349, 209, 5], [350, "milotic", 350, 209, 5], [351, "castform", 351, 174, 5, 10028, 105, 5, 10029, 209, 5, 10030, 165, 5], [352, "kecleon", 352, 174, 5], [353, "shuppet", 353, 132, 5], [354, "banette", 354, 132, 5, 10156, 132, 15], [355, "duskull", 355, 132, 5], [356, "dusclops", 356, 132, 5], [357, "tropius", 357, 121, 5], [358, "chimecho", 358, 189, 5], [359, "absol", 359, 20, 5, 10157, 20, 15], [360, "wynaut", 360, 189, 5], [361, "snorunt", 361, 165, 5], [362, "glalie", 362, 165, 5, 10176, 165, 16], [363, "spheal", 363, 173, 5], [364, "sealeo", 364, 173, 5], [365, "walrein", 365, 173, 5], [366, "clamperl", 366, 209, 5], [367, "huntail", 367, 209, 5], [368, "gorebyss", 368, 209, 5], [369, "relicanth", 369, 199, 5], [370, "luvdisc", 370, 209, 5], [371, "bagon", 371, 39, 5], [372, "shelgon", 372, 39, 5], [373, "salamence", 373, 44, 5, 10191, 44, 16], [374, "beldum", 374, 192, 5], [375, "metang", 375, 192, 5], [376, "metagross", 376, 192, 5, 10178, 192, 16], [377, "regirock", 377, 195, 5], [378, "regice", 378, 165, 5], [379, "registeel", 379, 204, 5], [380, "latias", 380, 51, 5, 10164, 51, 15], [381, "latios", 381, 51, 5, 10165, 51, 15], [382, "kyogre", 382, 209, 5, 10179, 209, 16], [383, "groudon", 383, 155, 5, 10180, 109, 16], [384, "rayquaza", 384, 44, 5, 10181, 44, 16], [385, "jirachi", 385, 192, 5], [386, "deoxys", 386, 189, 5, 10031, 189, 7, 10032, 189, 7, 10033, 189, 6], [387, "turtwig", 387, 144, 8], [388, "grotle", 388, 144, 8], [389, "torterra", 389, 145, 8], [390, "chimchar", 390, 105, 8], [391, "monferno", 391, 91, 8], [392, "infernape", 392, 91, 8], [393, "piplup", 393, 209, 8], [394, "prinplup", 394, 209, 8], [395, "empoleon", 395, 206, 8], [396, "starly", 396, 124, 8], [397, "staravia", 397, 124, 8], [398, "staraptor", 398, 124, 8], [399, "bidoof", 399, 174, 8], [400, "bibarel", 400, 181, 8], [401, "kricketot", 401, 0, 8], [402, "kricketune", 402, 0, 8], [403, "shinx", 403, 57, 8], [404, "luxio", 404, 57, 8], [405, "luxray", 405, 57, 8], [406, "budew", 406, 148, 8], [407, "roserade", 407, 148, 8], [408, "cranidos", 408, 195, 8], [409, "rampardos", 409, 195, 8], [410, "shieldon", 410, 197, 8], [411, "bastiodon", 411, 197, 8], [412, "burmy", 412, 0, 8, 10034, 0, 8, 10035, 0, 8], [413, "wormadam", 413, 9, 8, 10036, 10, 8, 10037, 17, 8], [414, "mothim", 414, 7, 8, 10269, 7, 18, 10270, 7, 18], [415, "combee", 415, 7, 8], [416, "vespiquen", 416, 7, 8], [417, "pachirisu", 417, 57, 8], [418, "buizel", 418, 209, 8], [419, "floatzel", 419, 209, 8], [420, "cherubi", 420, 144, 8], [421, "cherrim", 421, 144, 8, 10038, 144, 8], [422, "shellos", 422, 209, 8, 10039, 209, 8], [423, "gastrodon", 423, 164, 8, 10040, 164, 8], [424, "ambipom", 424, 174, 8], [425, "drifloon", 425, 120, 8], [426, "drifblim", 426, 120, 8], [427, "buneary", 427, 174, 8], [428, "lopunny", 428, 174, 8, 10190, 97, 16], [429, "mismagius", 429, 132, 8], [430, "honchkrow", 430, 26, 8], [431, "glameow", 431, 174, 8], [432, "purugly", 432, 174, 8], [433, "chingling", 433, 189, 8], [434, "stunky", 434, 32, 8], [435, "skuntank", 435, 32, 8], [436, "bronzor", 436, 192, 8], [437, "bronzong", 437, 192, 8], [438, "bonsly", 438, 195, 8], [439, "mime-jr", 439, 84, 8], [440, "happiny", 440, 174, 8], [441, "chatot", 441, 124, 8], [442, "spiritomb", 442, 27, 8], [443, "gible", 443, 47, 8], [444, "gabite", 444, 47, 8], [445, "garchomp", 445, 47, 8, 10158, 47, 15], [446, "munchlax", 446, 174, 8], [447, "riolu", 447, 90, 8], [448, "lucario", 448, 102, 8, 10159, 102, 15], [449, "hippopotas", 449, 155, 8], [450, "hippowdon", 450, 155, 8], [451, "skorupi", 451, 13, 8], [452, "drapion", 452, 32, 8], [453, "croagunk", 453, 98, 8], [454, "toxicroak", 454, 98, 8], [455, "carnivine", 455, 144, 8], [456, "finneon", 456, 209, 8], [457, "lumineon", 457, 209, 8], [458, "mantyke", 458, 131, 8], [459, "snover", 459, 146, 8], [460, "abomasnow", 460, 146, 8, 10160, 146, 15], [461, "weavile", 461, 30, 8], [462, "magnezone", 462, 71, 8], [463, "lickilicky", 463, 174, 8], [464, "rhyperior", 464, 160, 8], [465, "tangrowth", 465, 144, 8], [466, "electivire", 466, 57, 8], [467, "magmortar", 467, 105, 8], [468, "togekiss", 468, 77, 8], [469, "yanmega", 469, 7, 8], [470, "leafeon", 470, 144, 8], [471, "glaceon", 471, 165, 8], [472, "gliscor", 472, 122, 8], [473, "mamoswine", 473, 156, 8], [474, "porygon-z", 474, 174, 8], [475, "gallade", 475, 99, 8, 10170, 99, 16], [476, "probopass", 476, 197, 8], [477, "dusknoir", 477, 132, 8], [478, "froslass", 478, 135, 8], [479, "rotom", 479, 62, 8, 10058, 60, 9, 10059, 73, 9, 10060, 65, 9, 10061, 61, 9, 10062, 63, 9], [480, "uxie", 480, 189, 8], [481, "mesprit", 481, 189, 8], [482, "azelf", 482, 189, 8], [483, "dialga", 483, 54, 8, 10414, 54, 24], [484, "palkia", 484, 56, 8, 10415, 56, 24], [485, "heatran", 485, 116, 8], [486, "regigigas", 486, 174, 8], [487, "giratina", 487, 45, 8, 10063, 45, 9], [488, "cresselia", 488, 189, 8], [489, "phione", 489, 209, 8], [490, "manaphy", 490, 209, 8], [491, "darkrai", 491, 20, 8], [492, "shaymin", 492, 144, 8, 10064, 121, 9], [493, "arceus", 493, 174, 8, 10041, 0, 8, 10042, 20, 8, 10043, 39, 8, 10044, 57, 8, 10045, 90, 8, 10046, 105, 8, 10047, 119, 8, 10048, 132, 8, 10049, 144, 8, 10050, 155, 8, 10051, 165, 8, 10052, 182, 8, 10053, 189, 8, 10054, 195, 8, 10055, 204, 8, 10056, 209, 8, 10057, 207, 8, 10085, 74, 15], [494, "victini", 494, 113, 11], [495, "snivy", 495, 144, 11], [496, "servine", 496, 144, 11], [497, "serperior", 497, 144, 11], [498, "tepig", 498, 105, 11], [499, "pignite", 499, 91, 11], [500, "emboar", 500, 91, 11], [501, "oshawott", 501, 209, 11], [502, "dewott", 502, 209, 11], [503, "samurott", 503, 209, 11, 10405, 38, 24], [504, "patrat", 504, 174, 11], [505, "watchog", 505, 174, 11], [506, "lillipup", 506, 174, 11], [507, "herdier", 507, 174, 11], [508, "stoutland", 508, 174, 11], [509, "purrloin", 509, 20, 11], [510, "liepard", 510, 20, 11], [511, "pansage", 511, 144, 11], [512, "simisage", 512, 144, 11], [513, "pansear", 513, 105, 11], [514, "simisear", 514, 105, 11], [515, "panpour", 515, 209, 11], [516, "simipour", 516, 209, 11], [517, "munna", 517, 189, 11], [518, "musharna", 518, 189, 11], [519, "pidove", 519, 124, 11], [520, "tranquill", 520, 124, 11], [521, "unfezant", 521, 124, 11], [522, "blitzle", 522, 57, 11], [523, "zebstrika", 523, 57, 11], [524, "roggenrola", 524, 195, 11], [525, "boldore", 525, 195, 11], [526, "gigalith", 526, 195, 11], [527, "woobat", 527, 126, 11], [528, "swoobat", 528, 126, 11], [529, "drilbur", 529, 155, 11], [530, "excadrill", 530, 162, 11], [531, "audino", 531, 174, 11, 10171, 82, 16], [532, "timburr", 532, 90, 11], [533, "gurdurr", 533, 90, 11], [534, "conkeldurr", 534, 90, 11], [535, "tympole", 535, 209, 11], [536, "palpitoad", 536, 164, 11], [537, "seismitoad", 537, 164, 11], [538, "throh", 538, 90, 11], [539, "sawk", 539, 90, 11], [540, "sewaddle", 540, 9, 11], [541, "swadloon", 541, 9, 11], [542, "leavanny", 542, 9, 11], [543, "venipede", 543, 13, 11], [544, "whirlipede", 544, 13, 11], [545, "scolipede", 545, 13, 11], [546, "cottonee", 546, 79, 11], [547, "whimsicott", 547, 79, 11], [548, "petilil", 548, 144, 11], [549, "lilligant", 549, 144, 11, 10406, 94, 24], [550, "basculin", 550, 209, 11, 10066, 209, 11, 10416, 209, 24], [551, "sandile", 551, 29, 11], [552, "krokorok", 552, 29, 11], [553, "krookodile", 553, 29, 11], [554, "darumaka", 554, 105, 11, 10335, 165, 20], [555, "darmanitan", 555, 105, 11, 10067, 113, 11, 10336, 165, 20, 10337, 110, 20], [556, "maractus", 556, 144, 11], [557, "dwebble", 557, 15, 11], [558, "crustle", 558, 15, 11], [559, "scraggy", 559, 24, 11], [560, "scrafty", 560, 24, 11], [561, "sigilyph", 561, 126, 11], [562, "yamask", 562, 132, 11, 10338, 134, 20], [563, "cofagrigus", 563, 132, 11], [564, "tirtouga", 564, 199, 11], [565, "carracosta", 565, 199, 11], [566, "archen", 566, 127, 11], [567, "archeops", 567, 127, 11], [568, "trubbish", 568, 182, 11], [569, "garbodor", 569, 182, 11, 10376, 182, 20], [570, "zorua", 570, 20, 11, 10407, 136, 24], [571, "zoroark", 571, 20, 11, 10408, 136, 24], [572, "minccino", 572, 174, 11], [573, "cinccino", 573, 174, 11], [574, "gothita", 574, 189, 11], [575, "gothorita", 575, 189, 11], [576, "gothitelle", 576, 189, 11], [577, "solosis", 577, 189, 11], [578, "duosion", 578, 189, 11], [579, "reuniclus", 579, 189, 11], [580, "ducklett", 580, 131, 11], [581, "swanna", 581, 131, 11], [582, "vanillite", 582, 165, 11], [583, "vanillish", 583, 165, 11], [584, "vanilluxe", 584, 165, 11], [585, "deerling", 585, 147, 11, 10068, 147, 11, 10069, 147, 11, 10070, 147, 11], [586, "sawsbuck", 586, 147, 11, 10071, 147, 11, 10072, 147, 11, 10073, 147, 11], [587, "emolga", 587, 61, 11], [588, "karrablast", 588, 0, 11], [589, "escavalier", 589, 17, 11], [590, "foongus", 590, 148, 11], [591, "amoonguss", 591, 148, 11], [592, "frillish", 592, 143, 11], [593, "jellicent", 593, 143, 11], [594, "alomomola", 594, 209, 11], [595, "joltik", 595, 3, 11], [596, "galvantula", 596, 3, 11], [597, "ferroseed", 597, 152, 11], [598, "ferrothorn", 598, 152, 11], [599, "klink", 599, 204, 11], [600, "klang", 600, 204, 11], [601, "klinklang", 601, 204, 11], [602, "tynamo", 602, 57, 11], [603, "eelektrik", 603, 57, 11], [604, "eelektross", 604, 57, 11], [605, "elgyem", 605, 189, 11], [606, "beheeyem", 606, 189, 11], [607, "litwick", 607, 107, 11], [608, "lampent", 608, 107, 11], [609, "chandelure", 609, 107, 11], [610, "axew", 610, 39, 11], [611, "fraxure", 611, 39, 11], [612, "haxorus", 612, 39, 11], [613, "cubchoo", 613, 165, 11], [614, "beartic", 614, 165, 11], [615, "cryogonal", 615, 165, 11], [616, "shelmet", 616, 0, 11], [617, "accelgor", 617, 0, 11], [618, "stunfisk", 618, 64, 11, 10339, 162, 20], [619, "mienfoo", 619, 90, 11], [620, "mienshao", 620, 90, 11], [621, "druddigon", 621, 39, 11], [622, "golett", 622, 134, 11], [623, "golurk", 623, 134, 11], [624, "pawniard", 624, 36, 11], [625, "bisharp", 625, 36, 11], [626, "bouffalant", 626, 174, 11], [627, "rufflet", 627, 124, 11], [628, "braviary", 628, 124, 11, 10409, 126, 24], [629, "vullaby", 629, 26, 11], [630, "mandibuzz", 630, 26, 11], [631, "heatmor", 631, 105, 11], [632, "durant", 632, 17, 11], [633, "deino", 633, 21, 11], [634, "zweilous", 634, 21, 11], [635, "hydreigon", 635, 21, 11], [636, "larvesta", 636, 6, 11], [637, "volcarona", 637, 6, 11], [638, "cobalion", 638, 102, 11], [639, "terrakion", 639, 100, 11], [640, "virizion", 640, 94, 11], [641, "tornadus", 641, 119, 11, 10079, 119, 14], [642, "thundurus", 642, 61, 11, 10080, 61, 14], [643, "reshiram", 643, 43, 11], [644, "zekrom", 644, 40, 11], [645, "landorus", 645, 122, 11, 10081, 122, 14], [646, "kyurem", 646, 48, 11, 10082, 48, 14, 10083, 48, 14], [647, "keldeo", 647, 104, 11, 10084, 104, 14], [648, "meloetta", 648, 176, 11, 10074, 97, 11], [649, "genesect", 649, 17, 11, 10075, 17, 11, 10076, 17, 11, 10077, 17, 11, 10078, 17, 11], [650, "chespin", 650, 144, 15], [651, "quilladin", 651, 144, 15], [652, "chesnaught", 652, 94, 15], [653, "fennekin", 653, 105, 15], [654, "braixen", 654, 105, 15], [655, "delphox", 655, 113, 15], [656, "froakie", 656, 209, 15], [657, "frogadier", 657, 209, 15], [658, "greninja", 658, 38, 15, 10218, 38, 17, 10219, 38, 17], [659, "bunnelby", 659, 174, 15], [660, "diggersby", 660, 157, 15], [661, "fletchling", 661, 124, 15], [662, "fletchinder", 662, 106, 15], [663, "talonflame", 663, 106, 15], [664, "scatterbug", 664, 0, 15, 10271, 0, 18, 10272, 0, 18, 10273, 0, 18, 10274, 0, 18, 10275, 0, 18, 10276, 0, 18, 10277, 0, 18, 10278, 0, 18, 10279, 0, 18, 10280, 0, 18, 10281, 0, 18, 10282, 0, 18, 10283, 0, 18, 10284, 0, 18, 10285, 0, 18, 10286, 0, 18, 10287, 0, 18, 10288, 0, 18, 10289, 0, 18], [665, "spewpa", 665, 0, 15, 10290, 0, 18, 10291, 0, 18, 10292, 0, 18, 10293, 0, 18, 10294, 0, 18, 10295, 0, 18, 10296, 0, 18, 10297, 0, 18, 10298, 0, 18, 10299, 0, 18, 10300, 0, 18, 10301, 0, 18, 10302, 0, 18, 10303, 0, 18, 10304, 0, 18, 10305, 0, 18, 10306, 0, 18, 10307, 0, 18, 10308, 0, 18], [666, "vivillon", 666, 7, 15, 10086, 7, 15, 10087, 7, 15, 10088, 7, 15, 10089, 7, 15, 10090, 7, 15, 10091, 7, 15, 10092, 7, 15, 10093, 7, 15, 10094, 7, 15, 10095, 7, 15, 10096, 7, 15, 10097, 7, 15, 10098, 7, 15, 10099, 7, 15, 10100, 7, 15, 10101, 7, 15, 10102, 7, 15, 10161, 7, 15, 10162, 7, 15], [667, "litleo", 667, 111, 15], [668, "pyroar", 668, 111, 15], [669, "flabebe", 669, 74, 15, 10103, 74, 15, 10104, 74, 15, 10105, 74, 15, 10106, 74, 15], [670, "floette", 670, 74, 15, 10107, 74, 15, 10108, 74, 15, 10109, 74, 15, 10110, 74, 15, 10163, 74, 15], [671, "florges", 671, 74, 15, 10111, 74, 15, 10112, 74, 15, 10113, 74, 15, 10114, 74, 15], [672, "skiddo", 672, 144, 15], [673, "gogoat", 673, 144, 15], [674, "pancham", 674, 90, 15], [675, "pangoro", 675, 24, 15], [676, "furfrou", 676, 174, 15, 10115, 174, 15, 10116, 174, 15, 10117, 174, 15, 10118, 174, 15, 10119, 174, 15, 10120, 174, 15, 10121, 174, 15, 10122, 174, 15, 10123, 174, 15], [677, "espurr", 677, 189, 15], [678, "meowstic", 678, 189, 15, 10124, 189, 15], [679, "honedge", 679, 141, 15], [680, "doublade", 680, 141, 15], [681, "aegislash", 681, 141, 15, 10125, 141, 15], [682, "spritzee", 682, 74, 15], [683, "aromatisse", 683, 74, 15], [684, "swirlix", 684, 74, 15], [685, "slurpuff", 685, 74, 15], [686, "inkay", 686, 33, 15], [687, "malamar", 687, 33, 15], [688, "binacle", 688, 199, 15], [689, "barbaracle", 689, 199, 15], [690, "skrelp", 690, 188, 15], [691, "dragalge", 691, 50, 15], [692, "clauncher", 692, 209, 15], [693, "clawitzer", 693, 209, 15], [694, "helioptile", 694, 66, 15], [695, "heliolisk", 695, 66, 15], [696, "tyrunt", 696, 52, 15], [697, "tyrantrum", 697, 52, 15], [698, "amaura", 698, 169, 15], [699, "aurorus", 699, 169, 15], [700, "sylveon", 700, 74, 15], [701, "hawlucha", 701, 92, 15], [702, "dedenne", 702, 58, 15], [703, "carbink", 703, 85, 15], [704, "goomy", 704, 39, 15], [705, "sliggoo", 705, 39, 15, 10410, 54, 24], [706, "goodra", 706, 39, 15, 10411, 54, 24], [707, "klefki", 707, 87, 15], [708, "phantump", 708, 133, 15], [709, "trevenant", 709, 133, 15], [710, "pumpkaboo", 710, 133, 15, 10126, 133, 15, 10127, 133, 15, 10128, 133, 15], [711, "gourgeist", 711, 133, 15, 10129, 133, 15, 10130, 133, 15, 10131, 133, 15], [712, "bergmite", 712, 165, 15], [713, "avalugg", 713, 165, 15, 10412, 169, 24], [714, "noibat", 714, 44, 15], [715, "noivern", 715, 44, 15], [716, "xerneas", 716, 74, 15, 10132, 74, 15], [717, "yveltal", 717, 26, 15], [718, "zygarde", 718, 47, 15, 10220, 47, 17, 10221, 47, 17, 10222, 47, 17, 10340, 47, 17], [719, "diancie", 719, 85, 15, 10177, 85, 16], [720, "hoopa", 720, 138, 15, 10188, 33, 16], [721, "volcanion", 721, 118, 15], [722, "rowlet", 722, 121, 17], [723, "dartrix", 723, 121, 17], [724, "decidueye", 724, 133, 17, 10413, 94, 24], [725, "litten", 725, 105, 17], [726, "torracat", 726, 105, 17], [727, "incineroar", 727, 25, 17], [728, "popplio", 728, 209, 17], [729, "brionne", 729, 209, 17], [730, "primarina", 730, 89, 17], [731, "pikipek", 731, 124, 17], [732, "trumbeak", 732, 124, 17], [733, "toucannon", 733, 124, 17], [734, "yungoos", 734, 174, 17], [735, "gumshoos", 735, 174, 17, 10223, 174, 17], [736, "grubbin", 736, 0, 17], [737, "charjabug", 737, 3, 17], [738, "vikavolt", 738, 3, 17, 10224, 3, 17], [739, "crabrawler", 739, 90, 17], [740, "crabominable", 740, 96, 17], [741, "oricorio", 741, 106, 17, 10225, 61, 17, 10226, 126, 17, 10227, 120, 17], [742, "cutiefly", 742, 4, 17], [743, "ribombee", 743, 4, 17, 10309, 4, 18], [744, "rockruff", 744, 195, 17, 10310, 195, 18], [745, "lycanroc", 745, 195, 17, 10228, 195, 17, 10311, 195, 18], [746, "wishiwashi", 746, 209, 17, 10229, 209, 17], [747, "mareanie", 747, 188, 17], [748, "toxapex", 748, 188, 17], [749, "mudbray", 749, 155, 17], [750, "mudsdale", 750, 155, 17], [751, "dewpider", 751, 19, 17], [752, "araquanid", 752, 19, 17, 10312, 19, 18], [753, "fomantis", 753, 144, 17], [754, "lurantis", 754, 144, 17, 10230, 144, 17], [755, "morelull", 755, 79, 17], [756, "shiinotic", 756, 79, 17], [757, "salandit", 757, 112, 17], [758, "salazzle", 758, 112, 17, 10231, 112, 17], [759, "stufful", 759, 97, 17], [760, "bewear", 760, 97, 17], [761, "bounsweet", 761, 144, 17], [762, "steenee", 762, 144, 17], [763, "tsareena", 763, 144, 17], [764, "comfey", 764, 74, 17], [765, "oranguru", 765, 176, 17], [766, "passimian", 766, 90, 17], [767, "wimpod", 767, 19, 17], [768, "golisopod", 768, 19, 17], [769, "sandygast", 769, 134, 17], [770, "palossand", 770, 134, 17], [771, "pyukumuku", 771, 209, 17], [772, "type-null", 772, 174, 17], [773, "silvally", 773, 174, 17, 10232, 90, 17, 10233, 119, 17, 10234, 182, 17, 10235, 155, 17, 10236, 195, 17, 10237, 0, 17, 10238, 132, 17, 10239, 204, 17, 10240, 105, 17, 10241, 209, 17, 10242, 144, 17, 10243, 57, 17, 10244, 189, 17, 10245, 165, 17, 10246, 39, 17, 10247, 20, 17, 10248, 74, 17], [774, "minior", 774, 127, 17, 10249, 127, 17, 10250, 127, 17, 10251, 127, 17, 10252, 127, 17, 10253, 127, 17, 10254, 127, 17, 10255, 127, 17, 10256, 127, 17, 10257, 127, 17, 10258, 127, 17, 10259, 127, 17, 10260, 127, 17, 10261, 127, 17], [775, "komala", 775, 174, 17], [776, "turtonator", 776, 43, 17], [777, "togedemaru", 777, 71, 17, 10313, 71, 18], [778, "mimikyu", 778, 78, 17, 10262, 78, 17, 10263, 78, 17, 10264, 78, 17], [779, "bruxish", 779, 194, 17], [780, "drampa", 780, 49, 17], [781, "dhelmise", 781, 133, 17], [782, "jangmo-o", 782, 39, 17], [783, "hakamo-o", 783, 42, 17], [784, "kommo-o", 784, 42, 17, 10265, 42, 17], [785, "tapu-koko", 785, 58, 17], [786, "tapu-lele", 786, 84, 17], [787, "tapu-bulu", 787, 79, 17], [788, "tapu-fini", 788, 89, 17], [789, "cosmog", 789, 189, 17], [790, "cosmoem", 790, 189, 17], [791, "solgaleo", 791, 192, 17], [792, "lunala", 792, 138, 17], [793, "nihilego", 793, 184, 17], [794, "buzzwole", 794, 5, 17], [795, "pheromosa", 795, 5, 17], [796, "xurkitree", 796, 57, 17], [797, "celesteela", 797, 129, 17], [798, "kartana", 798, 152, 17], [799, "guzzlord", 799, 21, 17], [800, "necrozma", 800, 189, 17, 10314, 192, 18, 10315, 138, 18, 10316, 51, 18], [801, "magearna", 801, 87, 17, 10266, 87, 17], [802, "marshadow", 802, 93, 17], [803, "poipole", 803, 182, 18], [804, "naganadel", 804, 50, 18], [805, "stakataka", 805, 197, 18], [806, "blacephalon", 806, 107, 18], [807, "zeraora", 807, 57, 18], [808, "meltan", 808, 204, 19], [809, "melmetal", 809, 204, 19, 10377, 204, 20], [810, "grookey", 810, 144, 20], [811, "thwackey", 811, 144, 20], [812, "rillaboom", 812, 144, 20, 10378, 144, 20], [813, "scorbunny", 813, 105, 20], [814, "raboot", 814, 105, 20], [815, "cinderace", 815, 105, 20, 10379, 105, 20], [816, "sobble", 816, 209, 20], [817, "drizzile", 817, 209, 20], [818, "inteleon", 818, 209, 20, 10380, 209, 20], [819, "skwovet", 819, 174, 20], [820, "greedent", 820, 174, 20], [821, "rookidee", 821, 119, 20], [822, "corvisquire", 822, 119, 20], [823, "corviknight", 823, 129, 20, 10381, 129, 20], [824, "blipbug", 824, 0, 20], [825, "dottler", 825, 14, 20], [826, "orbeetle", 826, 14, 20, 10382, 14, 20], [827, "nickit", 827, 20, 20], [828, "thievul", 828, 20, 20], [829, "gossifleur", 829, 144, 20], [830, "eldegoss", 830, 144, 20], [831, "wooloo", 831, 174, 20], [832, "dubwool", 832, 174, 20], [833, "chewtle", 833, 209, 20], [834, "drednaw", 834, 199, 20, 10383, 199, 20], [835, "yamper", 835, 57, 20], [836, "boltund", 836, 57, 20], [837, "rolycoly", 837, 195, 20], [838, "carkol", 838, 114, 20], [839, "coalossal", 839, 114, 20, 10384, 114, 20], [840, "applin", 840, 46, 20], [841, "flapple", 841, 46, 20, 10385, 46, 20], [842, "appletun", 842, 46, 20, 10386, 46, 20], [843, "silicobra", 843, 155, 20], [844, "sandaconda", 844, 155, 20, 10387, 155, 20], [845, "cramorant", 845, 131, 20, 10341, 131, 20, 10342, 131, 20], [846, "arrokuda", 846, 209, 20], [847, "barraskewda", 847, 209, 20], [848, "toxel", 848, 67, 20], [849, "toxtricity", 849, 67, 20, 10343, 67, 20, 10388, 67, 20, 10397, 67, 20], [850, "sizzlipede", 850, 6, 20], [851, "centiskorch", 851, 6, 20, 10389, 6, 20], [852, "clobbopus", 852, 90, 20], [853, "grapploct", 853, 90, 20], [854, "sinistea", 854, 132, 20, 10344, 132, 20], [855, "polteageist", 855, 132, 20, 10345, 132, 20], [856, "hatenna", 856, 189, 20], [857, "hattrem", 857, 189, 20], [858, "hatterene", 858, 84, 20, 10390, 84, 20], [859, "impidimp", 859, 23, 20], [860, "morgrem", 860, 23, 20], [861, "grimmsnarl", 861, 23, 20, 10391, 23, 20], [862, "obstagoon", 862, 31, 20], [863, "perrserker", 863, 204, 20], [864, "cursola", 864, 132, 20], [865, "sirfetchd", 865, 90, 20], [866, "mr-rime", 866, 168, 20], [867, "runerigus", 867, 134, 20], [868, "milcery", 868, 74, 20], [869, "alcremie", 869, 74, 20, 10346, 74, 20, 10347, 74, 20, 10348, 74, 20, 10349, 74, 20, 10350, 74, 20, 10351, 74, 20, 10352, 74, 20, 10353, 74, 20, 10392, 74, 20], [870, "falinks", 870, 90, 20], [871, "pincurchin", 871, 57, 20], [872, "snom", 872, 11, 20], [873, "frosmoth", 873, 11, 20], [874, "stonjourner", 874, 195, 20], [875, "eiscue", 875, 165, 20, 10354, 165, 20], [876, "indeedee", 876, 176, 20, 10355, 176, 20], [877, "morpeko", 877, 22, 20, 10356, 22, 20], [878, "cufant", 878, 204, 20], [879, "copperajah", 879, 204, 20, 10393, 204, 20], [880, "dracozolt", 880, 40, 20], [881, "arctozolt", 881, 65, 20], [882, "dracovish", 882, 56, 20], [883, "arctovish", 883, 173, 20], [884, "duraludon", 884, 54, 20, 10394, 54, 20], [885, "dreepy", 885, 45, 20], [886, "drakloak", 886, 45, 20], [887, "dragapult", 887, 45, 20], [888, "zacian", 888, 74, 20, 10357, 87, 20], [889, "zamazenta", 889, 90, 20, 10358, 102, 20], [890, "eternatus", 890, 50, 20, 10359, 50, 20], [891, "kubfu", 891, 90, 20], [892, "urshifu", 892, 24, 20, 10360, 104, 20, 10395, 24, 20, 10396, 104, 20], [893, "zarude", 893, 28, 20, 10361, 28, 20], [894, "regieleki", 894, 57, 20], [895, "regidrago", 895, 39, 20], [896, "glastrier", 896, 165, 20], [897, "spectrier", 897, 132, 20], [898, "calyrex", 898, 149, 20, 10362, 168, 20, 10363, 138, 20], [899, "wyrdeer", 899, 176, 20], [900, "kleavor", 900, 15, 20], [901, "ursaluna", 901, 157, 20, 10441, 157, 26], [902, "basculegion", 902, 143, 20, 10417, 143, 24], [903, "sneasler", 903, 98, 20], [904, "overqwil", 904, 32, 20], [905, "enamorus", 905, 77, 20, 10418, 77, 24], [906, "sprigatito", 906, 144, 25], [907, "floragato", 907, 144, 25], [908, "meowscarada", 908, 28, 25], [909, "fuecoco", 909, 105, 25], [910, "crocalor", 910, 105, 25], [911, "skeledirge", 911, 107, 25], [912, "quaxly", 912, 209, 25], [913, "quaxwell", 913, 209, 25], [914, "quaquaval", 914, 104, 25], [915, "lechonk", 915, 174, 25], [916, "oinkologne", 916, 174, 25, 10423, 174, 25], [917, "tarountula", 917, 0, 25], [918, "spidops", 918, 0, 25], [919, "nymble", 919, 0, 25], [920, "lokix", 920, 1, 25], [921, "pawmi", 921, 57, 25], [922, "pawmo", 922, 59, 25], [923, "pawmot", 923, 59, 25], [924, "tandemaus", 924, 174, 25], [925, "maushold", 925, 174, 25, 10426, 174, 25], [926, "fidough", 926, 74, 25], [927, "dachsbun", 927, 74, 25], [928, "smoliv", 928, 147, 25], [929, "dolliv", 929, 147, 25], [930, "arboliva", 930, 147, 25], [931, "squawkabilly", 931, 124, 25, 10429, 124, 25, 10430, 124, 25, 10431, 124, 25], [932, "nacli", 932, 195, 25], [933, "naclstack", 933, 195, 25], [934, "garganacl", 934, 195, 25], [935, "charcadet", 935, 105, 25], [936, "armarouge", 936, 113, 25], [937, "ceruledge", 937, 107, 25], [938, "tadbulb", 938, 57, 25], [939, "bellibolt", 939, 57, 25], [940, "wattrel", 940, 61, 25], [941, "kilowattrel", 941, 61, 25], [942, "maschiff", 942, 20, 25], [943, "mabosstiff", 943, 20, 25], [944, "shroodle", 944, 175, 25], [945, "grafaiai", 945, 175, 25], [946, "bramblin", 946, 133, 25], [947, "brambleghast", 947, 133, 25], [948, "toedscool", 948, 145, 25], [949, "toedscruel", 949, 145, 25], [950, "klawf", 950, 195, 25], [951, "capsakid", 951, 144, 25], [952, "scovillain", 952, 108, 25], [953, "rellor", 953, 0, 25], [954, "rabsca", 954, 14, 25], [955, "flittle", 955, 189, 25], [956, "espathra", 956, 189, 25], [957, "tinkatink", 957, 87, 25], [958, "tinkatuff", 958, 87, 25], [959, "tinkaton", 959, 87, 25], [960, "wiglett", 960, 209, 25], [961, "wugtrio", 961, 209, 25], [962, "bombirdier", 962, 26, 25], [963, "finizen", 963, 209, 25], [964, "palafin", 964, 209, 25, 10425, 209, 25], [965, "varoom", 965, 186, 25], [966, "revavroom", 966, 186, 25], [967, "cyclizar", 967, 49, 25], [968, "orthworm", 968, 204, 25], [969, "glimmet", 969, 184, 25], [970, "glimmora", 970, 184, 25], [971, "greavard", 971, 132, 25], [972, "houndstone", 972, 132, 25], [973, "flamigo", 973, 92, 25], [974, "cetoddle", 974, 165, 25], [975, "cetitan", 975, 165, 25], [976, "veluza", 976, 194, 25], [977, "dondozo", 977, 209, 25], [978, "tatsugiri", 978, 56, 25, 10427, 56, 25, 10428, 56, 25], [979, "annihilape", 979, 93, 25], [980, "clodsire", 980, 158, 25], [981, "farigiraf", 981, 176, 25], [982, "dudunsparce", 982, 174, 25, 10424, 174, 25], [983, "kingambit", 983, 36, 25], [984, "great-tusk", 984, 95, 25], [985, "scream-tail", 985, 84, 25], [986, "brute-bonnet", 986, 28, 25], [987, "flutter-mane", 987, 78, 25], [988, "slither-wing", 988, 5, 25], [989, "sandy-shocks", 989, 64, 25], [990, "iron-treads", 990, 162, 25], [991, "iron-bundle", 991, 173, 25], [992, "iron-hands", 992, 59, 25], [993, "iron-jugulis", 993, 26, 25], [994, "iron-moth", 994, 112, 25], [995, "iron-thorns", 995, 69, 25], [996, "frigibax", 996, 48, 25], [997, "arctibax", 997, 48, 25], [998, "baxcalibur", 998, 48, 25], [999, "gimmighoul", 999, 132, 25, 10432, 132, 25], [1000, "gholdengo", 1000, 141, 25], [1001, "wo-chien", 1001, 28, 25], [1002, "chien-pao", 1002, 30, 25], [1003, "ting-lu", 1003, 29, 25], [1004, "chi-yu", 1004, 25, 25], [1005, "roaring-moon", 1005, 21, 25], [1006, "iron-valiant", 1006, 75, 25], [1007, "koraidon", 1007, 42, 25, 10433, 42, 25, 10434, 42, 25, 10435, 42, 25, 10436, 42, 25], [1008, "miraidon", 1008, 40, 25, 10437, 40, 25, 10438, 40, 25, 10439, 40, 25, 10440, 40, 25], [1009, "walking-wake", 1009, 56, 25], [1010, "iron-leaves", 1010, 149, 25], [1011, "dipplin", 1011, 46, 26], [1012, "poltchageist", 1012, 133, 26, 10447, 133, 26], [1013, "sinistcha", 1013, 133, 26, 10448, 133, 26], [1014, "okidogi", 1014, 98, 26], [1015, "munkidori", 1015, 183, 26], [1016, "fezandipiti", 1016, 83, 26], [1017, "ogerpon", 1017, 144, 26, 10442, 154, 26, 10443, 108, 26, 10444, 150, 26], [1018, "archaludon", 1018, 54, 27], [1019, "hydrapple", 1019, 46, 27], [1020, "gouging-fire", 1020, 43, 27], [1021, "raging-bolt", 1021, 40, 27], [1022, "iron-boulder", 1022, 190, 27], [1023, "iron-crown", 1023, 192, 27], [1024, "terapagos", 1024, 174, 27, 10445, 174, 27, 10446, 174, 27], [1025, "pecharunt", 1025, 137, 27]]

MON_LIST = list(read_mon_list())
EXTRA_FORM_LIST = list(read_extra_form_names())

def to_server(pem_path, port, module, scope, log_level):
    ssl_keyfile = pem_path / 'privkey.pem'
    ssl_certfile = pem_path / 'cert.pem'
    ssl_context = ssl.SSLContext(ssl.PROTOCOL_TLS_SERVER)
    ssl_context.load_cert_chain(
        ssl_certfile, keyfile=ssl_keyfile
    )
    config = uvicorn.Config(**{
        "port": port,
        "reload": True,
        "host": "0.0.0.0",
        "log_level": log_level,
        "ssl_keyfile": ssl_keyfile,
        "ssl_certfile": ssl_certfile,
        "app": f"{module}:{scope}_{module}"
    })
    return uvicorn.Server(config)


async def run_server(server):
    await server.serve()


async def run_tasks():

    loop = asyncio.get_event_loop()
    api_server = to_server(
        PEM_PATH, API_PORT, 'api', 'pd', 'info'
    )
    client_server = to_server(
        PEM_PATH, CLIENT_PORT, 'client', 'pd', 'error'
    )
    api_task = asyncio.ensure_future(run_server(api_server))
    client_task = asyncio.ensure_future(run_server(client_server))

    # Consider following updates here:
    # https://github.com/encode/uvicorn/pull/1600
    tasks = [api_task, client_task]
    for job in asyncio.as_completed(tasks):
        try: 
            results = await job
        finally:
            break
            

if __name__ == "__main__":

    api_url = 'https://pokeapi.co/api/v2/'

    print('Updating Games...', flush=True, file=sys.stderr)
    GAME_LIST = Service.update_games(api_url, GAME_LIST)
    type_combos = describe_type_combos(api_url)

    types_unchanged = all([
        tuple(old_type) == new_type
        for old_type, new_type
        in zip(TYPE_COMBOS, type_combos)
    ]) and len(TYPE_COMBOS)
    if not types_unchanged:
        print('Wow! Found new types!')
        MON_LIST = []
    args = parser.parse_args()

    print('Updating Pokémon...', flush=True, file=sys.stderr)
    dex_map = to_dex_map(GAME_LIST)
    # Load Pokémon
    while True:
        try:
            dexn = len(MON_LIST) + 1
            pkmn = dex.get(dex=(dexn))
            new_mon, extra_forms = (
                describe_mon(dexn, dex_map, type_combos, api_url,todo=True)
            )
            MON_LIST.append(new_mon)
            EXTRA_FORM_LIST += extra_forms
            print(f'New: Pokémon #{dexn} {pkmn.name}')
            if not len(extra_forms): continue
            print(
                ', '.join([f[1] for f in extra_forms[:2]]),
                '...' if len(extra_forms) > 2 else ''
            )
        except PyPokedexHTTPError:
            break

    # Full range of the generations
    generations = sorted(set(
        game[1] for game in GAME_LIST 
    ))
    old = True # Default to Kanto only
    set_config(**{
        **vars(args), 'ports': PORTS, 'api_url': api_url,
        'default_max_gen': generations[0 if old else -1],
        'game_list': GAME_LIST, 'mon_list': MON_LIST,
        'form_name_list': EXTRA_FORM_LIST,
        'generations': generations,
        'type_combos': type_combos,
    })

    # Test the API
    asyncio.run(run_tasks())
